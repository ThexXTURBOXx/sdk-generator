{%- macro map_parameter(parameters) -%}
{%- for parameter in parameters ~%}
            '{{ parameter.name }}': {{ parameter.name | caseCamel | overrideIdentifier }},
{%- endfor ~%}
{%- endmacro ~%}

{% macro map_headers(headers) -%}
{%- for key, header in headers %}
            '{{ key }}': '{{ header }}',
{%- endfor -%}
{%- endmacro -%}

{% macro parameter(parameter) %}{% if parameter.required %}required {{ parameter.type | typeName }}{% else %}{{ parameter.type | typeName }}?{% endif %} {{ parameter.name | caseCamel | overrideIdentifier }}{% endmacro %}

{% macro method_parameters(parameters, consumes) %}
{% if parameters|length > 0 %}{{ '{' }}{% for parameter in parameters %}{{ _self.parameter(parameter) }}{% if not loop.last %}, {% endif %}{% endfor %}{% if 'multipart/form-data' in consumes %}, Function(UploadProgress)? onProgress{% endif %}{{ '}' }}{% endif %}
{% endmacro %}